# Face++ - AI 面相分析应用

Face++ 是一款基于 Android 平台开发的创新性 AI 面相分析应用。它巧妙地将中国传统面相学理论（如“三庭五眼”和“十二宫”）与现代人工智能技术相结合，为用户提供一份专业、详尽且富有洞察力的面相分析报告。

网盘apk下载：https://pan.quark.cn/s/2c4394cbe4bb

## ✨ 主要功能

- **实时相机分析**：直接通过手机摄像头实时捕捉面部特征，并显示动态的人脸网格。
- **照片导入分析**：支持从相册中选择照片，进行更精细的静态面部分析。
- **智能面相解读**：
  - **三庭五眼**：精确测量面部比例，分析面部的均衡与和谐度。
  - **十二宫位**：根据面部十二个关键宫位（如命宫、事业宫、夫妻宫等）的特征，解读个人运势。
- **AI 命格推演**：集成强大的大型语言模型（LLM），根据面相分析结果，从性格、事业、财运、感情、健康等多个维度，生成一份通俗易懂的个性化命格报告。
- **可视化交互报告**：
  - 在用户的照片上动态叠加显示面部轮廓、关键点、三庭五眼分割线和十二宫位标记。
  - 提供图层控制功能，用户可以自由显示或隐藏不同的分析图层，以获得最佳的查看体验。
- **安全设置**：提供密码保护的设置入口，用于配置应用参数。

## 📖 使用方法

1.  **启动应用**：打开应用后，将直接进入相机预览界面。请将面部置于相机画面中央。
2.  **进行分析**：
    - **拍照分析**：点击屏幕下方的拍照按钮，应用将捕捉当前画面并自动开始分析。
    - **相册分析**：点击拍照按钮旁边的相册图标，从您的设备中选择一张包含清晰面部的照片。
3.  **查看报告**：
    - 分析完成后，您将看到叠加了面部分析标记（如三庭五眼、十二宫）的照片。
    - 向上拖动底部的抽屉，即可查看由 AI 生成的详细文字版命格报告。
4.  **交互探索**：

    - 在结果页面，使用右侧的图层控制面板，可以自由显示或隐藏面部轮廓、关键点等不同可视化信息，帮助您更深入地理解分析结果。

5.  **进入设置**：
    - 在相机预览界面，点击右上角的“设置”图标。
    - 输入密码（默认为 `123456`）后，即可进入设置界面。

## ⚙️ 设置说明

在设置页面，您可以对以下参数进行自定义配置：

- **LLM Base URL**：配置用于 AI 分析的大语言模型服务的 API 地址。
- **LLM API Key**：配置您的 API 密钥。如果留空，应用将使用编译时内置的密钥。
- **LLM Model**：指定进行分析时使用的具体 AI 模型名称。
- **设置页密码**：修改进入设置页面所需的安全密码。
- **个性化**：输入特定的分析需求或偏好，AI 将在生成报告时予以考虑。例如，您可以输入“希望重点分析财运和事业发展”。

## ️ 技术栈

- **开发语言**：Kotlin
- **UI 框架**：Jetpack Compose
- **计算机视觉**：
  - Google ML Kit: Face Mesh Detection (人脸网格检测)
  - Google ML Kit: Face Detection (人脸检测)
- **相机**：Android CameraX
- **AI 模型**：OpenAI GPT (通过 `openai-kotlin` 客户端集成)
- **异步任务**：Kotlin Coroutines
- **图片加载**：Coil
- **网络请求**：Ktor

## 🚀 如何构建

1.  **克隆项目**

    ```bash
    git clone https://gitee.com/wendy/face.git
    cd face
    ```

2.  **配置 API 密钥**
    在 `app/build.gradle.kts` 文件中，你需要配置你的 API 密钥。

    ```kotlin
    android {
        // ...
        buildTypes {
            debug {
                // 在此处填入你的 VolcEngine API Key (如果需要)
                buildConfigField("String", "VOLC_API_KEY", "\"YOUR_VOLC_API_KEY\"")
                buildConfigField("String", "VOLC_SECRET_KEY", "\"YOUR_VOLC_SECRET_KEY\"")

                // 在 local.properties 文件中配置你的 OpenAI API Key
                // 例如: OPENAI_API_KEY="sk-..."
            }
        }
        // ...
    }
    ```

    **注意**: 为了安全起见，强烈建议将敏感的 API 密钥存储在项目根目录的 `local.properties` 文件中，并通过 `build.gradle.kts` 读取。

3.  **构建并运行**
    使用 Android Studio 打开项目，等待 Gradle 同步完成后，即可构建并运行到你的 Android 设备或模拟器上。

## 📝 权限说明

应用需要以下权限才能正常工作：

- `android.permission.CAMERA`：用于实时拍照和人脸检测。
- `android.permission.READ_EXTERNAL_STORAGE`：用于从相册读取照片。
- `android.permission.INTERNET`：用于访问 AI 模型服务。

## 协议
